{% extends 'profiles/base.html' %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2 class="text-success mb-1">üìß –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h2>
                <p class="text-muted mb-0">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
            </div>
            <div>
                <a href="{% url 'system_analytics' %}" class="btn btn-secondary">
                    ‚Üê –ù–∞–∑–∞–¥ –∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ
                </a>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">‚úâÔ∏è –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞</h5>
            </div>
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    
                    <div class="mb-3">
                        {{ form.subject.label_tag }}
                        {{ form.subject }}
                    </div>
                    
                    <div class="mb-3">
                        {{ form.message.label_tag }}
                        {{ form.message }}
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">üéØ –ü–æ–ª—É—á–∞—Ç–µ–ª–∏</label>
                        <div class="border rounded p-3">
                            {{ form.target_roles.label_tag }}
                            <div class="mt-2">
                                {% for checkbox in form.target_roles %}
                                <div class="form-check">
                                    {{ checkbox.tag }}
                                    <label class="form-check-label" for="{{ checkbox.id_for_label }}">
                                        {{ checkbox.choice_label }}
                                    </label>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        {{ form.target_groups.label_tag }}
                        {{ form.target_groups }}
                        <div class="form-text">–£–∫–∞–∂–∏—Ç–µ –≥—Ä—É–ø–ø—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ò–¢-101, –ò–¢-102)</div>
                    </div>
                    
                    <div class="mt-4">
                        <button type="submit" class="btn btn-primary btn-lg">
                            üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π</h5>
            </div>
            <div class="card-body">
                <div class="mb-4">
                    <h6>–ü–æ —Ä–æ–ª—è–º:</h6>
                    <ul class="list-unstyled">
                        <li>üéì –°—Ç—É–¥–µ–Ω—Ç—ã: <strong>{{ students_count }}</strong> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                        <li>üëë –°—Ç–∞—Ä–æ—Å—Ç—ã: <strong>{{ monitors_count }}</strong> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                        <li>üéØ –ö—É—Ä–∞—Ç–æ—Ä—ã: <strong>{{ curators_count }}</strong> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                        <li>üìö –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏: <strong>{{ teachers_count }}</strong> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                    </ul>
                </div>
                
                <div class="mb-4">
                    <h6>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≥—Ä—É–ø–ø—ã:</h6>
                    <div class="d-flex flex-wrap gap-2">
                        <span class="badge bg-secondary">–ò–¢-101 (25)</span>
                        <span class="badge bg-secondary">–ò–¢-102 (22)</span>
                        <span class="badge bg-secondary">–§–ò-201 (18)</span>
                        <span class="badge bg-secondary">–ú–¢-301 (15)</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h5>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <button class="btn btn-outline-success" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')">
                        üìã –≠–∫—Å–ø–æ—Ä—Ç —Å–ø–∏—Å–∫–∞ email
                    </button>
                    <button class="btn btn-outline-info" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')">
                        üîÑ –ú–∞—Å—Å–æ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π
                    </button>
                    <button class="btn btn-outline-warning" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')">
                        üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
                    </button>
                </div>
            </div>
        </div>
        
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h5>
            </div>
            <div class="card-body">
                <div class="alert alert-warning">
                    <small>
                        <strong>‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:</strong> –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ email –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. 
                        –§—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã.
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}